{"version":3,"sources":["App.js","index.js"],"names":["App","props","state","board","bits","target_bits","selection","i","j","push","x","y","color","Boolean","flipped","Math","floor","random","greenHighlight","registerClick","bind","getCurrentValue","selectGroup","handleChange","calculate","clearHighlights","enterSelectionMode","this","setState","toString","padStart","setTimeout","newBoard","reduce","a","bit","group","filter","b","includes","unshift","getParity","length","bitsToFlip","pos","parseInt","join","forEach","orangeHighlight","e","target","id","value","className","rows","cols","maxLength","disabled","onClick","onChange","style","src","frameBorder","allow","allowFullScreen","title","map","backgroundColor","outline","key","border","React","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7e560d6c.chunk.js","sourcesContent":["import React from 'react'\r\nimport \"./App.css\"\r\n\r\nexport default class App extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      board: [],\r\n      bits: [],\r\n      target_bits: [],\r\n      selection: false\r\n    }\r\n    for (let i = 0; i < 8; i++) {\r\n      for (let j = 0; j < 8; j++) {\r\n        this.state.board.push({x: j, y: i, color: Boolean((9*i + j + 1) % 2), flipped: Boolean(Math.floor(Math.random() * 2)), greenHighlight: false})\r\n      }\r\n    }\r\n\r\n\r\n    this.registerClick = this.registerClick.bind(this)\r\n    this.getCurrentValue = this.getCurrentValue.bind(this)\r\n    this.selectGroup = this.selectGroup.bind(this)\r\n    this.handleChange = this.handleChange.bind(this)\r\n    this.calculate = this.calculate.bind(this)\r\n    this.clearHighlights = this.clearHighlights.bind(this)\r\n    this.enterSelectionMode = this.enterSelectionMode.bind(this)\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getCurrentValue()\r\n  }\r\n\r\n  registerClick(x,y) {\r\n    if (this.state.selection) {\r\n      this.setState({selection: false, target_bits: (8*y + x).toString(2).padStart(6,\"0\")})\r\n      setTimeout(this.calculate, 50)\r\n    }\r\n    else {\r\n      let newBoard = this.state.board\r\n      newBoard[y*8 + x].flipped = !newBoard[y*8 + x].flipped\r\n      this.setState({board: newBoard})\r\n      this.getCurrentValue()\r\n    }\r\n  }\r\n\r\n  getParity(bits) {\r\n    let reducer = (a,bit) => {\r\n      return a + (bit.flipped ? 1 : 0)\r\n    }\r\n    return bits.reduce(reducer,0) % 2\r\n  }\r\n\r\n  selectGroup(group,board) { // count bits rtl\r\n    switch(group) {\r\n      case 0:\r\n        return board.filter(b => (((b.y*8 + b.x) % 2) === 1))\r\n      case 1:\r\n        return board.filter(b => ([2,3,6,7].includes((b.y*8 + b.x) % 8)))\r\n      case 2:\r\n        return board.filter(b => (((b.y*8 + b.x) % 8) >= 4))\r\n      case 3:\r\n        return board.filter(b => (((b.y + b.x*8) % 2) === 1))\r\n      case 4:\r\n        return board.filter(b => ([2,3,6,7].includes((b.y + b.x*8) % 8)))\r\n      case 5:\r\n        return board.filter(b => (((b.y + b.x*8) % 8) >= 4))\r\n      default:\r\n        return []\r\n    }\r\n  }\r\n\r\n  getCurrentValue() {\r\n    let bits = []\r\n    for (let i = 0; i < 6; i++) {\r\n      bits.unshift(this.getParity(this.selectGroup(i, this.state.board)))\r\n    }\r\n\r\n    this.setState({bits})\r\n  }\r\n\r\n  calculate() {\r\n    if (this.state.target_bits.length !== 6) {\r\n      return\r\n    }\r\n    this.clearHighlights()\r\n\r\n    let bitsToFlip = []\r\n\r\n    for (let i = 0; i < 6; i++) {\r\n      if (this.state.bits[i].toString() === this.state.target_bits[i]) {\r\n        bitsToFlip.push(0)\r\n      } else {\r\n        bitsToFlip.push(1)\r\n      }\r\n    }\r\n\r\n    let pos = parseInt(bitsToFlip.join(\"\"),2)\r\n\r\n    let board = this.state.board\r\n    board[pos].greenHighlight = true;\r\n    this.setState({board})\r\n  }\r\n\r\n  clearHighlights() {\r\n    let board = this.state.board\r\n    board.forEach(b => b.greenHighlight = false)\r\n    board.forEach(b => b.orangeHighlight = false)\r\n    this.setState(board)\r\n  }\r\n\r\n  enterSelectionMode() {\r\n    this.setState({selection: true})\r\n  }\r\n\r\n  handleChange(e) {\r\n    this.setState({[e.target.id]: e.target.value})\r\n    setTimeout(this.calculate, 50)\r\n  }\r\n\r\n  render() {\r\n    return (<div id=\"app\">\r\n      <div id=\"sidebar\">\r\n        <h3>Current Encoded Position</h3>\r\n        <div className=\"textarea-container\">\r\n          <textarea rows={1} cols={6} maxLength={6} disabled={true} value={this.state.bits.join(\"\")}>\r\n          </textarea>\r\n        </div>\r\n        <hr />\r\n        <br />\r\n        <h3>Position to Encode</h3>\r\n        <button onClick={this.enterSelectionMode} id=\"selection-mode-button\">Select Tile</button>\r\n        <div className=\"textarea-container\">\r\n          <textarea id=\"target_bits\" rows={1} cols={6} maxLength={6} onChange={this.handleChange} value={this.state.target_bits}></textarea>\r\n        </div>\r\n        <hr />\r\n        <h3>Explanation</h3>\r\n        <p>The tile in <span style={{color: \"orange\"}}>orange</span> is the tile that is currently encoded by the state of the board. When you input a position to encode, either by typing in the binary or by clicking the button then a tile, a coin will show up in <span style={{color: \"green\"}}>green.</span> When you flip that coin, the state of the board will change to the requested position.</p>\r\n        <hr />\r\n        <h3>Videos</h3>\r\n        <iframe src=\"https://www.youtube.com/embed/as7Gkm7Y7h4\" frameBorder=\"0\" allow=\"accelerometer; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen title=\"standupmaths\"></iframe>\r\n        <iframe src=\"https://www.youtube.com/embed/wTJI_WuZSwE\" frameBorder=\"0\" allow=\"accelerometer; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen title=\"3b1b\"></iframe>\r\n      </div>\r\n      <div id=\"board-container\">\r\n        <div id=\"board\">\r\n          {this.state.board.map(b => \r\n            <div className=\"tile\"\r\n              onClick={() => this.registerClick(b.x,b.y)}\r\n              style={{backgroundColor: b.color ? \"#555555\" : \"#333333\", outline: ((8*b.y + b.x) === parseInt(this.state.bits.join(\"\"), 2)) && \"3px solid orange\"}}\r\n              key={8*b.y + b.x}\r\n              >\r\n              <div className=\"coin\"\r\n                style={{backgroundColor: b.flipped ? \"#222222\" : \"#999999\", border: b.greenHighlight && \"3px solid green\"}}\r\n              >\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>)\r\n  }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}